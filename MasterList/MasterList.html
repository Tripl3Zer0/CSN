<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Masterlist</title>
  <link rel="icon" href="../Drawables/CSNLogo.png');" type="image/png" />
  <link rel="stylesheet" href="Masterlist.css" />
</head>
<body>
  <!-- Top Banner -->
  <div class="top-banner">
    <div class="rectangle left" style="background-image: url('../Drawables/CSNBox.png');"></div>
    <div class="account-dropdown">
      <button class="account-btn">Account</button>
      <div class="account-content">
        <div class="user-info">
          <div class="circular-user-image" style="background-image: url('../Drawables/ProfilePic.png');"></div>
          <p class="user-name"><strong>Richard Villagen</strong> </p>
        </div>
        <button class="manage-btn">Manage Account</button>
        <button class="logout-btn" onclick="window.location.href='../FacultyPortal/Faculty.html';">Log Out</button>
      </div>
    </div>
  </div>

  <div class="main-container">
    <!-- Top Section -->
    <div class="top-section">
      <div class="search-filter">
        <input type="text" id="searchInput" placeholder="Search..." class="search-bar" onkeyup="filterTable()">
        <!-- Filter Dropdown -->
        <div class="filter-dropdown">
          <!-- Filter Buttons and Content here... -->
        </div>
        <button class="remove-filter-btn" onclick="resetFilters()">Remove Filter</button>
      </div>
      <!-- Add Button -->
      <button class="add-btn" onclick="showAddForm()">Add Student</button>
    </div>

    <!-- Table Section -->
    <table id="studentTable">
      <thead>
        <tr>
          <th>Student No.</th>
          <th>Name</th>
          <th>Birthday</th>
          <th>Age</th>
          <th>Address</th>
          <th>Contact</th>
          <th>Parent/Guardian</th>
          <th>Diagnosis</th>
          <th>Session</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>John Doe</td>
          <td>April 23, 2008</td>
          <td>16</td>
          <td>Moonwalk</td>
          <td>+63 9123456789</td>
          <td>Jane Doe</td>
          <td>Autism Spectrum Disorder</td>
          <td>5</td>
          <td>
            <button class="edit-btn">Edit</button>
            <button class="delete-btn" onclick="confirmDelete(this)">Delete</button>
          </td>
        </tr>
        <tr>
          <td>2</td>
          <td>Jane Smith</td>
          <td>November 03, 2007</td>
          <td>17</td>
          <td>Sto. Ni√±o</td>
          <td>+63 9876543210</td>
          <td>John Smith</td>
          <td>Attention-deficit/hyperactivity disorder (ADHD)</td>
          <td>4</td>
          <td>
            <button class="edit-btn">Edit</button>
            <button class="delete-btn" onclick="confirmDelete(this)">Delete</button>
          </td>
        </tr>
        <tr>
          <td>3</td>
          <td>Michael Lee</td>
          <td>July 19, 2006</td>
          <td>18</td>
          <td>Tambo</td>
          <td>+63 9234567890</td>
          <td>Anna Lee</td>
          <td>Intellectual Disability</td>
          <td>3</td>
          <td>
            <button class="edit-btn">Edit</button>
            <button class="delete-btn" onclick="confirmDelete(this)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Undo Button -->
    <button id="undo-btn" class="undo-btn" style="display:none;" onclick="undoDelete()">Undo</button>

    <!-- Hidden Add Student Form -->
    <div id="addStudentForm" style="display: none;">
      <h3>Add Student Information</h3>
      <form id="studentForm">
        <label for="studentNo">Student No.</label>
        <input type="number" id="studentNo" required><br>

        <label for="name">Name</label>
        <input type="text" id="name" required><br>

        <label for="birthday">Birthday</label>
        <input type="date" id="birthday" required><br>

        <label for="age">Age</label>
        <input type="number" id="age" required><br>

        <label for="address">Address</label>
        <input type="text" id="address" required><br>

        <label for="contact">Contact</label>
        <input type="text" id="contact" required><br>

        <label for="guardian">Parent/Guardian</label>
        <input type="text" id="guardian" required><br>

        <label for="diagnosis">Diagnosis</label>
        <input type="text" id="diagnosis" required><br>

        <label for="session">Session</label>
        <input type="number" id="session" required><br>

        <button type="button" onclick="addStudent()">Add Student Information</button>
      </form>
    </div>

    <script>
      let deletedRow = null;
      let deletedIndex = null;

      // Function to show the Add Student form
      function showAddForm() {
        document.getElementById('addStudentForm').style.display = 'block';
      }

      // Function to add a student to the table
      function addStudent() {
        const studentNo = document.getElementById('studentNo').value;
        const name = document.getElementById('name').value;
        const birthday = document.getElementById('birthday').value;
        const age = document.getElementById('age').value;
        const address = document.getElementById('address').value;
        const contact = document.getElementById('contact').value;
        const guardian = document.getElementById('guardian').value;
        const diagnosis = document.getElementById('diagnosis').value;
        const session = document.getElementById('session').value;

        // Create a new row
        const table = document.getElementById('studentTable').getElementsByTagName('tbody')[0];
        const newRow = table.insertRow();

        // Insert cells in the new row
        newRow.insertCell(0).innerHTML = studentNo;
        newRow.insertCell(1).innerHTML = name;
        newRow.insertCell(2).innerHTML = birthday;
        newRow.insertCell(3).innerHTML = age;
        newRow.insertCell(4).innerHTML = address;
        newRow.insertCell(5).innerHTML = contact;
        newRow.insertCell(6).innerHTML = guardian;
        newRow.insertCell(7).innerHTML = diagnosis;
        newRow.insertCell(8).innerHTML = session;

        // Add action buttons (Edit and Delete)
        const actionCell = newRow.insertCell(9);
        actionCell.innerHTML = `
          <button class="edit-btn">Edit</button>
          <button class="delete-btn" onclick="confirmDelete(this)">Delete</button>
        `;

        // Hide the form after adding
        document.getElementById('addStudentForm').style.display = 'none';

        // Clear form fields
        document.getElementById('studentForm').reset();
      }

      // Confirm delete function
      function confirmDelete(button) {
        const row = button.parentNode.parentNode;
        deletedRow = row.cloneNode(true);
        deletedIndex = row.rowIndex;
        row.classList.add('fade-out');

        setTimeout(() => {
          row.remove();
          document.getElementById('undo-btn').style.display = 'block';
        }, 500);
      }

      // Undo delete function
      function undoDelete() {
        const table = document.getElementById('studentTable');
        table.insertRow(deletedIndex).innerHTML = deletedRow.innerHTML;
        document.getElementById('undo-btn').style.display = 'none';
        deletedRow = null;
        deletedIndex = null;
      }
    </script>
  </div>
</body>
</html>